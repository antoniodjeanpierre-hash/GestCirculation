@page
@model GestCirculation.Pages_Contraventions.DeleteModel

@{
    ViewData["Title"] = "Delete";
}
<link rel="stylesheet" href="~/css/deletecontravention.css" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="~/css/DeleteAgent.css" />

<div class="container mt-5">
    <div class="text-center mb-4">
        <h1 class="text-danger fw-bold">
            <i class="fas fa-exclamation-triangle me-2"></i> 
            Supprimer une Contravention
        </h1>
        <h4 class="text-muted">
            <i class="fas fa-question-circle me-2"></i>
            Êtes-vous sûr de vouloir supprimer cette contravention ?
        </h4>
    </div>

    <div class="card shadow-lg border-0">
        <div class="card-body">
            <h4 class="text-center text-primary mb-3">
                <i class="fas fa-file-alt me-2"></i> Détails de la contravention
            </h4>
            <hr />

            <dl class="row px-3">
                <dt class="col-sm-4 text-end fw-semibold">
                    <i class="fas fa-car me-1 text-primary"></i>
                    @Html.DisplayNameFor(model => model.Contravention.Plaque_vehicule)
                </dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Contravention.Plaque_vehicule)</dd>

                <dt class="col-sm-4 text-end fw-semibold">
                    <i class="fas fa-palette me-1 text-primary"></i>
                    @Html.DisplayNameFor(model => model.Contravention.Couleur)
                </dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Contravention.Couleur)</dd>

                <dt class="col-sm-4 text-end fw-semibold">
                    <i class="fas fa-industry me-1 text-primary"></i>
                    @Html.DisplayNameFor(model => model.Contravention.Marque)
                </dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Contravention.Marque)</dd>

                <dt class="col-sm-4 text-end fw-semibold">
                    <i class="fas fa-map-marker-alt me-1 text-primary"></i>
                    @Html.DisplayNameFor(model => model.Contravention.Adresse)
                </dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Contravention.Adresse)</dd>

                <dt class="col-sm-4 text-end fw-semibold">
                    <i class="fas fa-gavel me-1 text-primary"></i>
                    @Html.DisplayNameFor(model => model.Contravention.Article_violation)
                </dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Contravention.Article_violation)</dd>

                <dt class="col-sm-4 text-end fw-semibold">
                    <i class="fas fa-calendar-day me-1 text-primary"></i>
                    @Html.DisplayNameFor(model => model.Contravention.Date_contravention)
                </dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Contravention.Date_contravention)</dd>

                <dt class="col-sm-4 text-end fw-semibold">
                    <i class="fas fa-id-card me-1 text-primary"></i>
                    Conducteur
                </dt>
                <dd class="col-sm-8">
                    @($"{Model.Contravention.Conducteur?.Nom} {Model.Contravention.Conducteur?.Prenom}")
                </dd>

                <dt class="col-sm-4 text-end fw-semibold">
                    <i class="fas fa-user-shield me-1 text-primary"></i>
                    Agent
                </dt>
                <dd class="col-sm-8">
                    @($"{Model.Contravention.Agent?.Nom} {Model.Contravention.Agent?.Prenom}")
                </dd>
            </dl>
        </div>
    </div>

    <form method="post" class="text-center mt-4">
        <input type="hidden" asp-for="Contravention.Id" />
        <button type="submit" class="btn btn-danger btn-lg shadow-sm me-2" onclick="return confirmDelete();">
            <i class="fas fa-trash-alt me-1"></i> Supprimer
        </button>

        <a class="btn btn-outline-secondary btn-lg shadow-sm" asp-page="./Index">
            <i class="fas fa-arrow-left me-1"></i> Retour à la liste
        </a>
    </form>
</div>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
<script>
   function confirmDelete() {
        return confirm('Êtes-vous sûr de vouloir supprimer cet élément ?');
    }

    $(document).ready(function () {
        $('.btn-danger').on('click', function () {
            const row = $(this).closest('tr');
            row.addClass('table-danger');
            setTimeout(() => {
                row.removeClass('table-danger');
            }, 1000);
        });
    });
</script>
